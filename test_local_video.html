<!DOCTYPE html>
<!‐‐
* 版权：腾讯课堂 零声学院 https://0voice.ke.qq.com/?tuin=137bb271 .
*
* 文件名：video.html
* 功能：获取视频并将其显示到页面
‐‐>
<html >
<body >
<video id="local‐video" autoplay playsinline></video>
<button id="showVideo" >打开摄像头</button>
<p>通过getUserMedia()获取视频</p>
</body>
<script >
    const constraints = {
        audio: false,
        video: true
    };
    // 处理打开摄像头成功
    function handleSuccess(stream) {
        const video = document.querySelector("#local‐video");
        video.srcObject = stream;
    } // 异常处理
    function handleError(error) {
        console.error("getUserMedia error: " + error);
    } 
    function onOpenCamera(e) {
        navigator.mediaDevices.getUserMedia(constraints).then(handleSuccess).catch(handleError);
    } 
    document.querySelector("#showVideo").addEventListener("click", onOpenCamera);
</script>
</html>